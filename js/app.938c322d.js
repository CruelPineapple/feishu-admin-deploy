(function(t){function e(e){for(var n,s,o=e[0],r=e[1],c=e[2],d=0,f=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(l,s)&&l[s]&&f.push(l[s][0]),l[s]=0;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);u&&u(e);while(f.length)f.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,o=1;o<a.length;o++){var r=a[o];0!==l[r]&&(n=!1)}n&&(i.splice(e--,1),t=s(s.s=a[0]))}return t}var n={},l={app:0},i=[];function s(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],r=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=r;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"02af":function(t,e,a){"use strict";a("af0e")},"034f":function(t,e,a){"use strict";a("85ec")},1694:function(t,e,a){},"1dab":function(t,e,a){},"2dc9":function(t,e,a){},"3c61":function(t,e,a){"use strict";a("c69b")},"407d":function(t,e,a){"use strict";a("d435")},"4fab":function(t,e,a){"use strict";a("acb8")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"bar"},[t._v(" Lost & Found 失物招领后台管理系统 "),a("div",{staticClass:"user"},[a("span",[t._v("欢迎，"+t._s(t.userName))]),a("img",{attrs:{src:t.avatarUrl,alt:""}})])]),a("div",[a("div",{staticClass:"menu-container"},[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"2","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"},on:{select:t.handleSelect,open:t.handleOpen,close:t.handleClose}},[a("el-submenu",{attrs:{index:"1"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-menu"}),a("span",[t._v("事物列表")])]),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"1-1"}},[t._v("失物列表")]),a("el-menu-item",{attrs:{index:"1-2"}},[t._v("招领列表")]),a("el-menu-item",{attrs:{index:"1-3"}},[t._v("已认领列表")])],1)],2),a("el-submenu",{attrs:{index:"2"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-location"}),a("span",[t._v("地点管理")])]),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"2-1"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("地点列表")])]),a("el-menu-item",{attrs:{index:"2-2"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("新增地点")])])],1)],2),a("el-submenu",{attrs:{index:"3"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-document"}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("人员管理")])]),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"3-1"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("管理员列表")])]),a("el-menu-item",{attrs:{index:"3-2"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("权限修改")])])],1)],2),a("el-submenu",{attrs:{index:"4"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-setting"}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("设置物品类型")])]),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"4-1"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("类型列表")])]),a("el-menu-item",{attrs:{index:"4-2"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("增加类型")])])],1)],2)],1)],1),"3-2"==t.currentShow?a("setauth"):t._e(),"3-1"==t.currentShow?a("auth"):t._e(),"4-2"==t.currentShow?a("itemadd"):t._e(),"4-1"==t.currentShow?a("itemlist"):t._e(),"2-1"==t.currentShow?a("place"):t._e(),"2-2"==t.currentShow?a("edit"):t._e(),"1-2"==t.currentShow?a("found"):t._e(),"1-1"==t.currentShow?a("lost"):t._e(),"1-3"==t.currentShow?a("match"):t._e()],1)])},i=[],s=(a("b0c0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"place"}},[a("el-dialog",{attrs:{"show-close":!1,title:"提示",visible:t.dialogVisible,width:"30%"}},[a("span",[t._v("请选择删除方式")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.subDel(t.delBuff)}}},[t._v("删除子地点")]),a("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.mainDel(t.delBuff)}}},[t._v("删除父地点")]),a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取消")])],1)]),a("el-dialog",{attrs:{"show-close":!1,title:"提示",visible:t.dialogVisible2,width:"30%"}},[a("span",[t._v("请选择修改目标")]),a("el-input",{staticStyle:{"margin-top":"14px"},attrs:{placeholder:"新名称"},model:{value:t.editName,callback:function(e){t.editName=e},expression:"editName"}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.subEdit(t.editBuff)}}},[t._v("修改物品名称")]),a("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.mainEdit(t.editBuff)}}},[t._v("修改大类物品")]),a("el-button",{on:{click:function(e){t.dialogVisible2=!1}}},[t._v("取消")])],1)],1),a("div",{staticClass:"school-picker"},[a("el-radio",{attrs:{label:"1"},on:{change:t.schoolRadioChange},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("沙河校区")]),a("el-radio",{attrs:{label:"0"},on:{change:t.schoolRadioChange},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("清水河校区")])],1),a("div",{staticClass:"table-container"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:""}},[a("el-table-column",{attrs:{label:"校区",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.Campus))])]}}])}),a("el-table-column",{attrs:{label:"大类地点",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.Place))])]}}])}),a("el-table-column",{attrs:{label:"地点",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.SubPlace))])]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1)],1)}),o=[],r={name:"place",mounted:function(){var t=this;this.$axios.get("https://www.fengzigeng.com/api/management/place",{params:{campus_id:1}}).then((function(e){200==e.data.code?t.tableData=e.data.data:t.$notify.error({title:"错误",dangerouslyUseHTMLString:!0,message:'<a href= "https://www.fengzigeng.com/api/weblogin">点此重新登录</a>'})}))},data:function(){return{radio:"1",editName:"",dialogVisible2:!1,editBuff:void 0,dialogVisible:!1,delBuff:void 0,tableData:[]}},methods:{subEdit:function(t){var e=this;this.$axios.get("https://www.fengzigeng.com/api/management/editplacesmall",{params:{key:t.Key,name:this.editName}}).then((function(t){200==t.data.code?(e.$message({message:"修改成功",offset:80}),e.dialogVisible2=!1,e.schoolRadioChange()):e.$notify({title:"修改失败",message:t.data.msg})}))},mainEdit:function(t){var e=this;this.$axios.get("https://www.fengzigeng.com/api/management/editplacebig",{params:{big_key:t.Key,name:this.editName}}).then((function(t){200==t.data.code?(e.$message({message:"修改成功",offset:80}),e.dialogVisible2=!1,e.schoolRadioChange()):e.$notify({title:"修改失败",message:t.data.msg})}))},schoolRadioChange:function(){var t=this;console.log(this.radio),this.$axios.get("https://www.fengzigeng.com/api/management/place",{params:{campus_id:this.radio}}).then((function(e){200==e.data.code?t.tableData=e.data.data:t.$notify.error({title:"错误",dangerouslyUseHTMLString:!0,message:'<a href= "https://www.fengzigeng.com/api/weblogin">点此重新登录</a>',offset:100})}))},handleEdit:function(t,e){console.log(t,e),this.dialogVisible2=!0,this.editBuff=e},handleDelete:function(t,e){console.log(t,e),this.dialogVisible=!0,this.delBuff=e},subDel:function(t){var e=this;this.$axios.get("https://www.fengzigeng.com/api/management/deletesubplace",{params:{key:t.Key}}).then((function(t){200==t.data.code?(e.$message({message:"删除成功",offset:80}),e.dialogVisible=!1,e.schoolRadioChange()):e.$notify({title:"删除失败",message:t.data.msg,offset:100})}))},mainDel:function(t){var e=this;this.$axios.get("https://www.fengzigeng.com/api/management/deleteplace",{params:{big_key:t.BigKey}}).then((function(t){200==t.data.code?(e.$message({message:"删除成功",offset:80}),e.dialogVisible=!1,e.schoolRadioChange()):e.$notify({title:"删除失败",message:t.data.msg,offset:100})}))}}},c=r,u=(a("cb5a"),a("2877")),d=Object(u["a"])(c,s,o,!1,null,"bdfa2040",null),f=d.exports,m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"found"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:""}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"学号/工号"}},[a("span",[t._v(t._s(e.row.Student_Teacher_Id))])]),a("el-form-item",{attrs:{label:"手机号"}},[a("span",[t._v(t._s(e.row.Moblie))])]),a("el-form-item",{attrs:{label:"拾到时间"}},[a("span",[t._v(t._s(e.row.FoundDate)+" "+t._s(e.row.FoundTime))])]),a("el-form-item",{attrs:{label:"补充信息"}},[a("span",[t._v(t._s(e.row.AdditionalInfo))])]),a("el-form-item",{attrs:{label:"图片"}},[a("el-image",{staticStyle:{width:"150px",height:"150px"},attrs:{fit:"cover",src:e.row.Image}})],1)],1)]}}])}),a("el-table-column",{attrs:{label:"物品类型",prop:"SubType"}}),a("el-table-column",{attrs:{label:"描述信息",prop:"Info"}}),a("el-table-column",{attrs:{label:"拾到者",prop:"Name"}}),a("el-table-column",{attrs:{label:"拾到日期",prop:"FoundDate"}}),a("el-table-column",{attrs:{label:"校区",prop:"Campus"}}),a("el-table-column",{attrs:{label:"地点",prop:"Place"}}),a("el-table-column",{attrs:{label:"详细地点",prop:"PlaceDetail"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1)},p=[],g={name:"found",mounted:function(){this.getList()},methods:{getList:function(){var t=this;this.$axios.get("https://www.fengzigeng.com/api/management/found",{}).then((function(e){200==e.data.code?t.tableData=e.data.data:t.$notify.error({title:"错误"+e.data.code,message:e.data.msg,offset:100})}))},handleEdit:function(t,e){console.log(t,e)},handleDelete:function(t,e){console.log(t,e)}},data:function(){return{tableData:[]}}},h=g,b=(a("02af"),Object(u["a"])(h,m,p,!1,null,"36838b54",null)),v=b.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"lost"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:""}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"学号/工号"}},[a("span",[t._v(t._s(e.row.Student_Teacher_Id))])]),a("el-form-item",{attrs:{label:"手机号"}},[a("span",[t._v(t._s(e.row.Moblie))])]),a("br"),a("el-form-item",{attrs:{label:"可能丢失地点"}},[a("span",[t._v(t._s(e.row.Place1)+" ")]),t._v("| "),a("span",[t._v(" "+t._s(e.row.Place2)+" ")]),t._v("| "),a("span",[t._v(" "+t._s(e.row.Place3))])])],1)]}}])}),a("el-table-column",{attrs:{label:"失主姓名",prop:"Name"}}),a("el-table-column",{attrs:{label:"失物类型",prop:"SubType"}}),a("el-table-column",{attrs:{label:"丢失日期",prop:"LostDate"}}),a("el-table-column",{attrs:{label:"时间段",prop:"LostTimeSession"}}),a("el-table-column",{attrs:{label:"校区",prop:"Campus"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1)},_=[],y={name:"lost",mounted:function(){this.getList()},methods:{getList:function(){var t=this;this.$axios.get("https://www.fengzigeng.com/api/management/lost",{}).then((function(e){200==e.data.code?t.tableData=e.data.data:t.$notify.error({title:"错误"+e.data.code,message:e.data.msg,offset:100})}))},handleEdit:function(t,e){console.log(t,e)},handleDelete:function(t,e){console.log(t,e)}},data:function(){return{tableData:[]}}},x=y,k=(a("4fab"),Object(u["a"])(x,w,_,!1,null,"049c15d6",null)),$=k.exports,S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"match"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:""}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"失主学号/工号"}},[a("span",[t._v(t._s(e.row.LosterId))])]),a("el-form-item",{attrs:{label:"拾到者学号/工号"}},[a("span",[t._v(t._s(e.row.FounderId))])]),a("el-form-item",{attrs:{label:"失主手机号"}},[a("span",[t._v(t._s(e.row.LosterMoblie))])]),a("el-form-item",{attrs:{label:"拾到者手机号"}},[a("span",[t._v(t._s(e.row.FounderMoblie))])]),a("el-form-item",{attrs:{label:"拾到时间"}},[a("span",[t._v(t._s(e.row.FoundDate)+" "+t._s(e.row.FoundTime))])]),a("el-form-item",{attrs:{label:"补充信息"}},[a("span",[t._v(t._s(e.row.AdditionalInfo))])]),a("el-form-item",{attrs:{label:"感谢留言"}},[a("span",[t._v(t._s(e.row.ThxMsg))])]),a("el-form-item",{attrs:{label:"图片"}},[a("el-image",{staticStyle:{width:"150px",height:"150px"},attrs:{fit:"cover",src:e.row.Image}})],1)],1)]}}])}),a("el-table-column",{attrs:{label:"失物类型",prop:"ItemType"}}),a("el-table-column",{attrs:{label:"失物信息",prop:"Info"}}),a("el-table-column",{attrs:{label:"失主姓名",prop:"LosterName"}}),a("el-table-column",{attrs:{label:"拾到者姓名",prop:"FounderName"}}),a("el-table-column",{attrs:{label:"拾到日期",prop:"FoundDate"}}),a("el-table-column",{attrs:{label:"地点",prop:"Place"}}),a("el-table-column",{attrs:{label:"详细地点",prop:"PlaceDetail"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1)},V=[],D={name:"match",mounted:function(){this.getList()},methods:{getList:function(){var t=this;this.$axios.get("https://www.fengzigeng.com/api/management/match",{}).then((function(e){200==e.data.code?t.tableData=e.data.data:4003==e.data.code?t.$notify.error({title:"错误",dangerouslyUseHTMLString:!0,message:'<a href= "https://www.fengzigeng.com/api/weblogin">点此重新登录</a>',offset:100}):t.$notify.error({title:"错误"+e.data.code,message:e.data.msg,offset:100})}))},handleEdit:function(t,e){console.log(t,e)},handleDelete:function(t,e){console.log(t,e)}},data:function(){return{tableData:[]}}},C=D,P=(a("90b7"),Object(u["a"])(C,S,V,!1,null,"85d8b7b0",null)),z=P.exports,L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"edit"}},[a("h3",{staticClass:"title",staticStyle:{"margin-top":"0"}},[t._v("新增子地点")]),a("p",{staticClass:"normal"},[t._v("先选择一个父地点，再填写子地点名称。删除子地点需前往地点列表")]),a("el-cascader",{attrs:{options:t.pickerData,props:{expandTrigger:"hover"}},on:{change:t.handleChange},model:{value:t.pickerValue,callback:function(e){t.pickerValue=e},expression:"pickerValue"}}),a("el-input",{staticStyle:{width:"193px"},attrs:{placeholder:"子地点名称"},model:{value:t.subPlace,callback:function(e){t.subPlace=e},expression:"subPlace"}}),a("el-button",{on:{click:t.confirmSub}},[t._v("确认")]),a("h3",{staticClass:"title"},[t._v("新建父地点")]),a("p",{staticClass:"normal"},[t._v("先选择父地点所属校区，再填写父地点名称。删除父地点需前往地点列表")]),a("div",{staticClass:"school-picker",staticStyle:{"margin-bottom":"8px"}},[a("el-radio",{attrs:{label:"1"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("沙河校区")]),a("el-radio",{attrs:{label:"0"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("清水河校区")])],1),a("el-input",{staticStyle:{width:"193px"},attrs:{placeholder:"父地点名称"},model:{value:t.mainPlace,callback:function(e){t.mainPlace=e},expression:"mainPlace"}}),a("el-button",{on:{click:t.confirmMain}},[t._v("确认")])],1)},O=[],N={name:"edit",mounted:function(){var t=this;this.$axios.get("https://www.fengzigeng.com/api/management/bigplace").then((function(e){200==e.data.code?t.pickerData=e.data.data:t.$notify({title:"错误",message:"获取父地点失败",duration:5,offset:100})}))},data:function(){return{radio:"1",mainPlace:"",subPlace:"",pickerValue:[],subPlaceKey:{},pickerData:[]}},methods:{getPicker:function(){var t=this;this.$axios.get("https://www.fengzigeng.com/api/management/bigplace").then((function(e){200==e.data.code?t.pickerData=e.data.data:t.$notify({title:"错误",message:"获取父地点失败",duration:5,offset:100})}))},handleChange:function(t){console.log(t[1]),this.subPlaceKey=t[1]},confirmMain:function(){var t=this;this.$axios.get("https://www.fengzigeng.com/api/management/putplace",{params:{campus_id:this.radio,name:this.mainPlace}}).then((function(e){200==e.data.code?(t.$message({message:"新建地址成功",offset:80}),t.getPicker()):t.$notify({title:"新建地址失败",message:e.data.msg,offset:100})}))},confirmSub:function(){var t=this;this.$axios.get("https://www.fengzigeng.com/api/management/putsubplace",{params:{big_key:this.subPlaceKey,name:this.subPlace}}).then((function(e){200==e.data.code?(t.$message({message:"新建地址成功",offset:80}),t.getPicker()):t.$notify({title:"新建地址失败",message:e.data.msg,duration:5,offset:100})}))}}},T=N,E=(a("6390"),Object(u["a"])(T,L,O,!1,null,"658d2368",null)),I=E.exports,j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"item-list"}},[a("el-dialog",{attrs:{"show-close":!1,title:"提示",visible:t.dialogVisible,width:"30%"}},[a("span",[t._v("请选择删除方式")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.subDel(t.delBuff)}}},[t._v("删除物品")]),a("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.mainDel(t.delBuff)}}},[t._v("删除物品种类")]),a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取消")])],1)]),a("el-dialog",{attrs:{"show-close":!1,title:"提示",visible:t.dialogVisible2,width:"30%"}},[a("span",[t._v("请选择修改目标")]),a("el-input",{staticStyle:{"margin-top":"14px"},attrs:{placeholder:"新名称"},model:{value:t.editName,callback:function(e){t.editName=e},expression:"editName"}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.subEdit(t.editBuff)}}},[t._v("修改物品名称")]),a("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.mainEdit(t.editBuff)}}},[t._v("修改大类物品")]),a("el-button",{on:{click:function(e){t.dialogVisible2=!1}}},[t._v("取消")])],1)],1),a("div",{staticClass:"table-container"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:""}},[a("el-table-column",{attrs:{label:"大类物品",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.BigName))])]}}])}),a("el-table-column",{attrs:{label:"物品名称",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.SmallName))])]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1)],1)},B=[],M={name:"itemlist",mounted:function(){this.getList()},data:function(){return{editName:"",dialogVisible2:!1,editBuff:void 0,dialogVisible:!1,delBuff:void 0,tableData:[]}},methods:{getList:function(){var t=this;this.$axios.get("https://www.fengzigeng.com/api/management/typesmall").then((function(e){200==e.data.code?t.tableData=e.data.data:t.$notify({title:"错误",message:"获取列表失败"+e.data.msg,offset:100})}))},handleDelete:function(t,e){console.log(t,e),this.dialogVisible=!0,this.delBuff=e},handleEdit:function(t,e){console.log(t,e),this.dialogVisible2=!0,this.editBuff=e},subEdit:function(t){var e=this;this.$axios.get("https://www.fengzigeng.com/api/management/edittypesmall",{params:{key:t.Key,name:this.editName}}).then((function(t){200==t.data.code?(e.$message({message:"修改成功！",offset:80}),e.dialogVisible2=!1,e.getList()):e.$notify({title:"修改失败",message:t.data.msg,offset:100})}))},mainEdit:function(t){var e=this;this.$axios.get("https://www.fengzigeng.com/api/management/edittypebig",{params:{big_key:t.Key,name:this.editName}}).then((function(t){200==t.data.code?(e.$message({message:"修改成功！",offset:80}),e.dialogVisible2=!1,e.getList()):e.$notify({title:"修改失败",message:t.data.msg,offset:100})}))},subDel:function(t){var e=this;this.$axios.get("https://www.fengzigeng.com/api/management/deletetypesmall",{params:{key:t.Key}}).then((function(t){200==t.data.code?(e.$message({message:"删除成功！",offset:80}),e.dialogVisible=!1,e.getList()):e.$notify({title:"删除失败",message:t.data.msg,offset:100})}))},mainDel:function(t){var e=this;this.$axios.get("https://www.fengzigeng.com/api/management/deletetypebig",{params:{big_key:t.BigKey}}).then((function(t){200==t.data.code?(e.$message({message:"删除成功！",offset:80}),e.dialogVisible=!1,e.getList()):e.$notify({title:"删除失败",message:t.data.msg,offset:100})}))}}},A=M,K=(a("cbb0"),Object(u["a"])(A,j,B,!1,null,"6f6e3eec",null)),R=K.exports,F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"item-add"}},[a("h3",{staticClass:"title",staticStyle:{"margin-top":"0"}},[t._v("新增物品")]),a("p",{staticClass:"normal"},[t._v(" 先选择一个大类物品，再填写物品名称。删除物品需前往物品类型列表 ")]),a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.pickerValue,callback:function(e){t.pickerValue=e},expression:"pickerValue"}},t._l(t.pickerData,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),a("el-input",{staticStyle:{width:"193px"},attrs:{placeholder:"物品名称"},model:{value:t.subType,callback:function(e){t.subType=e},expression:"subType"}}),a("el-button",{on:{click:t.confirmSub}},[t._v("确认")]),a("h3",{staticClass:"title"},[t._v("新建物品种类")]),a("p",{staticClass:"normal"},[t._v("删除物品种类需前往物品类型列表")]),a("el-input",{staticStyle:{width:"193px"},attrs:{placeholder:"物品种类名称"},model:{value:t.mainType,callback:function(e){t.mainType=e},expression:"mainType"}}),a("el-button",{on:{click:t.confirmMain}},[t._v("确认")])],1)},U=[],H={name:"itemadd",mounted:function(){this.getPicker()},data:function(){return{mainType:"",subType:"",pickerValue:void 0,pickerData:[]}},methods:{confirmMain:function(){var t=this;this.$axios.get("https://www.fengzigeng.com/api/management/puttypebig",{params:{name:this.mainType}}).then((function(e){200==e.data.code?(t.$message({message:"新建物品种类成功",offset:80}),t.getPicker()):t.$notify({title:"新建物品种类失败",message:e.data.msg,offset:100})}))},confirmSub:function(){var t=this;this.$axios.get("https://www.fengzigeng.com/api/management/puttypesmall",{params:{big_key:this.pickerValue,name:this.subType}}).then((function(e){200==e.data.code?(t.$message({message:"新建物品成功",offset:80}),t.getPicker()):t.$notify({title:"新建物品失败",message:e.data.msg,duration:5,offset:100})}))},getPicker:function(){var t=this;this.$axios.get("https://www.fengzigeng.com/api/management/typebig").then((function(e){200==e.data.code?t.pickerData=e.data.data:t.$notify({title:"获取物品类型失败",message:e.data.msg,offset:100})}))}}},J=H,q=(a("3c61"),Object(u["a"])(J,F,U,!1,null,"c6a8d6ea",null)),G=q.exports,Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"auth"}},[a("div",{staticClass:"auth-list"},[a("el-dialog",{attrs:{"show-close":!1,title:"提示",visible:t.dialogVisible2,width:"60%"}},[a("p",[t._v("调整权限")]),a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.authVal,callback:function(e){t.authVal=e},expression:"authVal"}},t._l(t.authOp,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),a("el-cascader",{directives:[{name:"show",rawName:"v-show",value:1==t.authVal,expression:"authVal == 1"}],attrs:{placeholder:"请选择地点",options:t.placeList,props:{expandTrigger:"hover"}},on:{change:t.handleChange},model:{value:t.placeVal,callback:function(e){t.placeVal=e},expression:"placeVal"}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"confirm"},on:{click:t.confirm}},[t._v("确认")]),a("el-button",{on:{click:function(e){t.dialogVisible2=!1}}},[t._v("取消")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:""}},[a("el-table-column",{attrs:{prop:"OpenId",label:"OpenId",width:"300"}}),a("el-table-column",{attrs:{prop:"UserId",label:"学号/工号"}}),a("el-table-column",{attrs:{prop:"Name",label:"姓名"}}),a("el-table-column",{attrs:{prop:"Mobile",label:"电话"}}),a("el-table-column",{attrs:{prop:"Permission",label:"权限"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.handleEdit(e.$index,e.row)}}},[t._v("编辑")])]}}])})],1)],1)])},W=[],X={name:"auth",mounted:function(){this.getList(),this.getPlaceList()},data:function(){return{currentRow:null,placeList:[],placeVal:null,authVal:null,dialogVisible2:!1,tableData:[],authOp:[{label:"超级管理员",value:"3"},{label:"平台审核管理员",value:"2"},{label:"地点管理员",value:"1"},{label:"普通用户",value:"0"}]}},methods:{confirm:function(){1==this.authVal?this.setPlaceAd():this.setNormalAd()},setNormalAd:function(){var t=this;this.$axios.get("https://www.fengzigeng.com/api/management/setAdminPrivilage",{params:{open_id:this.currentRow.OpenId,privilage:this.authVal}}).then((function(e){200==e.data.code?(t.$message({message:"设置成功！",offset:80}),t.dialogVisible2=!1,t.getList()):t.$notify({title:"设置失败",message:e.data.msg,offset:100})}))},setPlaceAd:function(){var t=this;this.$axios.get("https://www.fengzigeng.com/api/management/setPlaceAdmin",{params:{open_id:this.currentRow.OpenId,place_key:this.placeVal[2]}}).then((function(e){200==e.data.code?(t.$message({message:"设置成功！",offset:80}),t.dialogVisible2=!1,t.getList()):t.$notify({title:"设置失败",message:e.data.msg,offset:100})}))},getPlaceList:function(){var t=this;this.$axios.get("https://www.fengzigeng.com/api/management/getPlaces").then((function(e){200==e.data.code?t.placeList=e.data.data:t.$notify({title:"获取地点失败",message:e.data.msg,offset:100})}))},handleEdit:function(t,e){console.log(t,e),this.dialogVisible2=!0,this.currentRow=e},getList:function(){var t=this;this.$axios.get("https://www.fengzigeng.com/api/management/getAdmins").then((function(e){200==e.data.code?t.tableData=e.data.data:t.$notify({title:"获取管理员失败",message:e.data.msg,offset:100})}))}}},Y=X,Z=(a("407d"),Object(u["a"])(Y,Q,W,!1,null,"154a1122",null)),tt=Z.exports,et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"set-auth"}},[a("p",[t._v("搜索并选中用户以设置权限")]),a("p",[t._v("可通过姓名，学号/工号，openid和电话搜索")]),a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"输入搜索"},model:{value:t.searchKey,callback:function(e){t.searchKey=e},expression:"searchKey"}}),a("el-button",{on:{click:function(e){return t.search()}}},[t._v("搜索")]),a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"highlight-current-row":""},on:{"current-change":t.handleCurrentChange}},[a("el-table-column",{attrs:{property:"OpenId",label:"OpenId",width:"300"}}),a("el-table-column",{attrs:{property:"Name",label:"姓名"}}),a("el-table-column",{attrs:{property:"UserId",label:"学号/工号"}}),a("el-table-column",{attrs:{property:"Mobile",label:"电话"}})],1),a("p",[t._v("选择权限")]),a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.authVal,callback:function(e){t.authVal=e},expression:"authVal"}},t._l(t.authOp,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),a("el-cascader",{directives:[{name:"show",rawName:"v-show",value:1==t.authVal,expression:"authVal == 1"}],attrs:{placeholder:"请选择地点",options:t.placeList,props:{expandTrigger:"hover"}},on:{change:t.handleChange},model:{value:t.placeVal,callback:function(e){t.placeVal=e},expression:"placeVal"}}),a("p",[a("el-button",{on:{click:t.submit}},[t._v("确认")])],1)],1)},at=[],nt={name:"setauth",mounted:function(){this.getPlaceList()},data:function(){return{searchKey:null,currentRow:null,authVal:null,placeVal:null,placeList:[],authOp:[{label:"超级管理员",value:"3"},{label:"平台审核管理员",value:"2"},{label:"地点管理员",value:"1"},{label:"普通用户",value:"0"}],tableData:[]}},methods:{submit:function(){1==this.authVal?this.setPlaceAd():this.setNormalAd()},setNormalAd:function(){var t=this;this.$axios.get("https://www.fengzigeng.com/api/management/setAdminPrivilage",{params:{open_id:this.currentRow.OpenId,privilage:this.authVal}}).then((function(e){200==e.data.code?t.$message({message:"设置成功！",offset:80}):t.$notify({title:"设置失败",message:e.data.msg,offset:100})}))},setPlaceAd:function(){var t=this;this.$axios.get("https://www.fengzigeng.com/api/management/setPlaceAdmin",{params:{open_id:this.currentRow.OpenId,place_key:this.placeVal[2]}}).then((function(e){200==e.data.code?t.$message({message:"设置成功！",offset:80}):t.$notify({title:"设置失败",message:e.data.msg,offset:100})}))},getPlaceList:function(){var t=this;this.$axios.get("https://www.fengzigeng.com/api/management/getPlaces").then((function(e){200==e.data.code?t.placeList=e.data.data:t.$notify({title:"获取地点失败",message:e.data.msg,offset:100})}))},search:function(){var t=this;this.$axios.get("https://www.fengzigeng.com/api/management/searchUser",{params:{key:this.searchKey}}).then((function(e){200==e.data.code?t.tableData=e.data.data:t.$notify({title:"搜索失败",message:e.data.msg,offset:100})}))},handleChange:function(t){console.log(t)},handleCurrentChange:function(t){this.currentRow=t,console.log(this.currentRow)}}},lt=nt,it=(a("7297"),Object(u["a"])(lt,et,at,!1,null,"31e6466b",null)),st=it.exports,ot={mounted:function(){var t=this;this.$axios.get("https://www.fengzigeng.com/api/management/me").then((function(e){200==e.data.code&&(console.log(e.data),t.userName=e.data.name,t.avatarUrl=e.data.avatar)}))},name:"App",components:{place:f,found:v,lost:$,match:z,edit:I,itemlist:R,itemadd:G,auth:tt,setauth:st},data:function(){return{userName:"",avatarUrl:"",activeIndex:"1",activeIndex2:"1",currentShow:"1-3"}},methods:{handleSelect:function(t,e){console.log(t,e),this.currentShow=t},handleOpen:function(t,e){console.log(t,e)},handleClose:function(t,e){console.log(t,e)}}},rt=ot,ct=(a("034f"),Object(u["a"])(rt,l,i,!1,null,null,null)),ut=ct.exports,dt=a("5c96"),ft=a.n(dt),mt=(a("0fae"),a("bc3a")),pt=a.n(mt);n["default"].config.productionTip=!1,n["default"].use(ft.a),n["default"].prototype.$axios=pt.a,new n["default"]({render:function(t){return t(ut)}}).$mount("#app")},6390:function(t,e,a){"use strict";a("1dab")},7297:function(t,e,a){"use strict";a("ea30")},"85ec":function(t,e,a){},"90b7":function(t,e,a){"use strict";a("2dc9")},acb8:function(t,e,a){},af0e:function(t,e,a){},c0cb:function(t,e,a){},c69b:function(t,e,a){},cb5a:function(t,e,a){"use strict";a("1694")},cbb0:function(t,e,a){"use strict";a("c0cb")},d435:function(t,e,a){},ea30:function(t,e,a){}});
//# sourceMappingURL=app.938c322d.js.map